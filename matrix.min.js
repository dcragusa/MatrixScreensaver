var k="abcdefghijklmnopqrstuvwxyz012345678989$+-*/=%\"#&_(),.;:?!|{}<>[]^~'",k=k.split("");function m(d){return new Promise(function(n){return setTimeout(n,d)})}function p(d){return Math.floor(Math.random()*d)}function q(){var d=numcols;t(this);this.speed=p(4)?0:1;this.a=p(5*d);this.position=0}function t(d){var n=vchars;d.b=[];for(var g=0;g<n;g++)d.b.push(k[p(k.length)])}document.addEventListener("DOMContentLoaded",function(){function d(e,a){b.clearRect(e,a,11,18)}function n(){var e="Wake up, Neo...".split("");g(e,0).then(function(a){a&&m(2E3).then(function(){b.clearRect(0,0,f.width,f.height);e="The Matrix has you...".split("");g(e,0).then(function(a){a&&m(2E3).then(function(){window.addEventListener("resize",r,!1);r();window.setInterval(u,40)})})})})}function g(e,a){var c=p(3)?300:150;b.font="22px matrix_courier";b.fillStyle="#7bff8d";return m(c).then(function(){b.fillText(e[a],13*a+30,40);return a<e.length-1?(a++,g(e,a)):!0})}function r(){f.width=window.innerWidth;f.height=window.innerHeight;numcols=f.width/11+1;vchars=Math.floor(f.height/18)+1;columns=[];for(var b=0;b<numcols;b++)columns.push(new q)}function u(){b.font="20px matrix_code";for(var e=0;e<columns.length;e++){var a=columns[e];if(a.a)a.a--;else{for(var c=0;c<vchars;c++){var f=a.b[c],h=11*e,l=18*c,g=l+18;c==a.position?(d(h,l),b.fillStyle="#f6f6f4",b.fillText(f,h,g)):c==a.position-1?(d(h,l),b.fillStyle="#c9cfb9",b.fillText(f,h,g)):c==a.position-2?(d(h,l),b.fillStyle="#95a297",b.fillText(f,h,g)):c==a.position-3?(d(h,l),b.fillStyle="#2cb231",b.fillText(f,h,g)):c<a.position-3&&c>=a.position-vchars+10?p(15)||(f=k[p(k.length)],d(h,l),b.fillStyle="#2cb231",b.fillText(f,h,g)):c<a.position-vchars+10&&c>a.position-vchars-10?(b.fillStyle=p(5)?"rgba(0, 0, 0, 0.05)":"rgba(0, 0, 0, 0.35)",b.fillRect(11*e,18*c,11,18)):c==a.position-vchars-10&&d(h,l)}a.a=a.speed;a.position++}a.position>2*vchars+15&&(t(a),a.position=0,a.a=p(5*numcols))}}var f=document.getElementById("c"),b=f.getContext("2d");m(1E3).then(function(){n()})});
